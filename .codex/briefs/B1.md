# B1 Alignment Brief

## Intent
- Introduce proof tag interfaces in TS and Rust without altering runtime behavior.
- Prepare for observable proof emissions aligning with v0.2 observability goals.

## Derived Constraints (binding)
- TS: `packages/tf-lang-l0-ts/src/proof/tags.ts` exports tag payload shapes:
  - `Witness { kind:"Witness", delta, effect }`
  - `Normalization { kind:"Normalization", target:"delta"|"effect"|"state" }`
  - `Transport { kind:"Transport", op:"LENS_PROJ"|"LENS_MERGE", region:string }`
  - `Refutation { kind:"Refutation", code:string, msg?:string }`
  - `Conservativity { kind:"Conservativity", callee:string, expected:string, found:string }`
- Rust: `packages/tf-lang-l0-rs/src/proof.rs` defines equivalent structures.
- Tags are inert until `DEV_PROOFS=1`; they are never included in any hashes.
- No functional changes: code compiles and tests remain green.

## Invariants & Oracles
- Build passes with new tag definitions and no behavioral diffs.
- Adding tags does not modify existing public APIs aside from exports.

## Checklist for Coder
- [ ] Mirrors TS and Rust
- [ ] Uses canonical bytes (no JSON.stringify)
- [ ] Final state ends in r0
- [ ] JSON Pointers start with "/"
- [ ] Effects NF sorted unique
- [ ] Proof tags emitted when DEV_PROOFS=1 (if relevant)

## Lessons referenced
- A1: canonicalization baseline
- A2: cross-runtime parity discipline
- A3: vector expectations for tag usage in future
