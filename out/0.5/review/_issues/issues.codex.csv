track,id,title,severity,confidence,tags,file,start_line,end_line,proposed_fix
A,A-1,"Wrap authorize quick-fix emits uppercase keyword that parser rejects",S2,C2,"correctness;dx","packages/tf-lsp-server/src/actions/wrap-authorize.mjs",1,35,"Emit `authorize{…}` in lowercase and add a regression test for the code action." 
A,A-2,"tf/sourceMap request reads arbitrary files",S1,C2,"security","packages/tf-lsp-server/src/server.ts",66,97,"Restrict lookups to open documents or to a workspace allowlist before calling readFile." 
A,A-3,"offsetToPosition rescans whole document per call",S3,C2,"perf","packages/tf-lsp-server/src/server.ts",531,548,"Cache line offsets or reuse TextDocument.positionAt instead of manual scanning." 
A,A-4,"extractFQSymbol splits entire doc on every hover",S3,C2,"perf;dx","packages/tf-lsp-server/src/server.ts",563,586,"Slice the current line via TextDocument APIs instead of splitting the entire document string." 
A,A-5,"Effect diagnostics always point at start of document",S3,C2,"dx","packages/tf-lsp-server/src/server.ts",437,456,"Thread source spans from parseDSL/checkIR and emit diagnostics at those ranges." 
A,A-6,"String literals leave escape sequences unprocessed",S3,C2,"correctness","packages/tf-compose/src/parser.mjs",171,194,"Decode common escapes (`\n`, `\t`, `\"`, `\\`) when tokenising strings." 
A,A-7,"authorize region token fails when keyword followed by whitespace",S2,C2,"correctness","packages/tf-compose/src/parser.mjs",93,100,"Allow optional whitespace between `authorize`/`txn` and the delimiter before emitting region tokens." 
A,A-8,"Inline-let refactor truncates multi-line initialisers",S3,C2,"correctness;dx","packages/tf-lsp-server/src/server.ts",343,373,"Use the DSL AST to find initializer spans or balance braces instead of stopping at the first newline." 
A,A-9,"Introduce-let regex ignores Unicode identifiers",S4,C2,"i18n;dx","packages/tf-lsp-server/src/server.ts",406,414,"Add the `u` flag and widen identifier character classes to cover Unicode letters." 
A,A-10,"Hover signature ignores array-shaped schemas",S4,C1,"dx","packages/tf-lsp-server/src/server.ts",593,606,"Inspect additional schema shapes (`array`, `oneOf`) before falling back to `name(...)`." 
B,B-1,"WASM default trace ids split into characters when returning a string",S2,C2,"correctness","packages/tf-run-wasm/src/index.ts",94,103,"Normalise `raw` to an array and drop empty entries before storing in `cachedTraceIds`." 
B,B-2,"Unknown spec ops crash enumerateComponentPlans",S2,C2,"correctness;dx","packages/tf-plan-enum/src/index.ts",248,255,"Validate `choiceLibrary[step.op]` and surface a descriptive error when missing." 
B,B-3,"run() tries to read 'undefined' when no irPath provided",S3,C2,"perf;dx","packages/tf-run-wasm/src/index.ts",160,162,"Short-circuit to `'{}'` when neither `irSource` nor `irPath` is supplied." 
B,B-4,"mkdir(dirname(path)) fails for paths ending with slash",S3,C1,"reliability","packages/tf-run-wasm/src/index.ts",155,181,"Normalise output file paths and reject ones ending with `/` before mkdir." 
B,B-5,"Unbounded wasm default_trace_ids can exhaust memory",S3,C2,"reliability","packages/tf-run-wasm/src/index.ts",94,104,"Cap the number of imported IDs and log a warning when the wasm payload is oversized." 
B,B-6,"rescorePlan silently drops missing dependency nodes",S3,C2,"correctness","packages/tf-plan/src/index.ts",70,88,"Fail fast when `nodeMap.get(dep)` returns undefined instead of filtering it out." 
B,B-7,"writeNdjson buffers entire plan before writing",S4,C2,"perf","packages/tf-plan/src/index.ts",104,112,"Stream NDJSON chunks through a writable stream or chunk large arrays." 
B,B-8,"Beam width 0 reports opaque enumeration failure",S3,C1,"dx","packages/tf-plan-enum/src/index.ts",312,356,"Validate `beamWidth >= 1` and emit a targeted configuration error." 
B,B-9,"Aggregate branch score double-normalises totals",S4,C2,"correctness","packages/tf-plan-enum/src/index.ts",184,203,"Compute aggregate totals via weighted sums instead of averaging already-weighted scores." 
B,B-10,"readSpec eagerly loads huge JSON specs",S4,C1,"perf","packages/tf-plan-enum/src/index.ts",334,339,"Guard file size before reading or stream-parse large specs." 
C,C-1,"Trace ingest loads entire file into memory",S3,C2,"perf","packages/tf-trace/src/lib/ingest.ts",48,91,"Stream the JSONL file line-by-line instead of `readFile` + `split`." 
C,C-2,"Blank lines ignored unless strict flag set",S3,C2,"correctness","packages/tf-trace/src/lib/ingest.ts",60,80,"Emit diagnostics for blank lines by default and use the env flag only to downgrade severity." 
C,C-3,"Trace validator rejects additional metadata fields",S2,C2,"correctness","packages/tf-trace/src/lib/validate.ts",38,44,"Allow recognised optional keys (e.g., `id`, `callsite`) or gate strict mode behind a flag." 
C,C-4,"Budget spec accepts non-numeric thresholds",S3,C1,"correctness","packages/tf-trace/bin/trace.mjs",299,333,"Validate `count_max`/`ms_max` are finite non-negative numbers during spec parsing." 
C,C-5,"Declared budgets vanish when effect missing from summary",S3,C2,"observability","packages/tf-trace/src/lib/budget.ts",41,67,"Surface declared-but-unseen effects in the result (e.g., `count=0`) for auditability." 
C,C-6,"Summary ms_total not rounded before serialising",S3,C2,"determinism","packages/tf-trace/src/lib/summary.ts",22,37,"Pass totals through the existing rounding helper before JSON stringify." 
C,C-7,"Trace CSV builder concatenates giant strings",S4,C2,"perf","packages/tf-trace/bin/trace.mjs",162,182,"Stream CSV rows or build chunks before joining to reduce reallocations." 
C,C-8,"CSV header guard rejects files with BOM/metadata",S4,C1,"dx","packages/tf-trace/bin/trace.mjs",173,210,"Compare header rows explicitly instead of using `startsWith`/`endsWith`." 
C,C-9,"CLI advertises text format but only supports json",S4,C2,"dx","packages/tf-trace/bin/trace.mjs",470,484,"Implement text output or remove the unsupported `--format text` option." 
C,C-10,"No sampling mode for fast perf gates",S3,C1,"perf","packages/tf-trace/bin/trace.mjs",220,520,"Add an `--limit` option that stops ingestion after N rows for quick checks." 
D,D-1,"Inverse rewrite drops mismatched codecs",S2,C2,"correctness","packages/tf-opt/lib/plan-apply.mjs",98,118,"Compare primitive arguments before removing serialize/deserialize pairs." 
D,D-2,"Commute rewrite ignores direction hints",S2,C2,"correctness","packages/tf-opt/lib/plan-apply.mjs",66,95,"Respect the obligation’s `direction` when deciding to swap neighbours." 
D,D-3,"cloneIr JSON round-trip strips metadata",S3,C2,"correctness","packages/tf-opt/lib/plan-apply.mjs",10,18,"Use structuredClone or a metadata-aware clone helper to preserve non-JSON values." 
D,D-4,"Single pass misses additional commute opportunities",S3,C1,"perf","packages/tf-opt/lib/plan-apply.mjs",66,95,"Restart scanning after each swap or collect swap indices to revisit the array." 
D,D-5,"Primitive extraction skips nested args",S3,C2,"correctness","packages/tf-opt/lib/rewrite-detect.mjs",7,24,"Recurse into all object properties (including nested args) when collecting primitives." 
D,D-6,"Unknown primitives still generate commute obligations",S3,C2,"correctness","packages/tf-opt/lib/rewrite-detect.mjs",25,73,"Skip commute/idempotent checks when effect metadata is missing." 
D,D-7,"Idempotent detection compares raw nodes with metadata",S3,C1,"correctness","packages/tf-opt/lib/plan-apply.mjs",123,143,"Canonicalise nodes (drop `loc`/metadata) before equality checks." 
D,D-8,"Rewrite loop lacks iteration cap",S4,C2,"reliability","packages/tf-opt/lib/plan-apply.mjs",183,200,"Limit iterations and abort with an error when the optimizer toggles endlessly." 
D,D-9,"Primitive effect map cache never invalidates",S4,C2,"dx","packages/tf-opt/lib/data.mjs",24,45,"Expose a reset hook so watch mode reloads the catalog when files change." 
D,D-10,"canonicalLawName doesn’t normalise case",S4,C1,"dx","packages/tf-opt/lib/data.mjs",53,60,"Lower-case and trim law names when canonicalising." 
E,E-1,"write-by-key law lacks operation definition",S2,C2,"correctness","packages/tf-l0-proofs/src/smt-laws.mjs",31,56,"Add `'write-by-key'` to `OPERATION_DEFINITIONS` or drop the law." 
E,E-2,"write-by-key law encodes the negation of idempotency",S1,C2,"correctness","packages/tf-l0-proofs/src/smt-laws.mjs",31,42,"Replace the placeholder assertion with axioms that actually enforce idempotency." 
E,E-3,"Law normalisation is case-sensitive",S2,C2,"dx","packages/tf-l0-proofs/src/smt-laws.mjs",222,244,"Lower-case law names when normalising to align with canonical lookups." 
E,E-4,"normalizeOperation fails for fq primitive names",S3,C2,"correctness","packages/tf-l0-proofs/src/smt-laws.mjs",202,218,"Strip prefixes (`tf:…`) and versions (`@1`) when normalising operation names." 
E,E-5,"emitFlowEquivalence redeclares shared functions",S3,C1,"correctness","packages/tf-l0-proofs/src/smt-laws.mjs",90,140,"Deduplicate function symbols before emitting declarations." 
E,E-6,"emitFlowEquivalence throws on mismatched flow sorts",S3,C1,"dx","packages/tf-l0-proofs/src/smt-laws.mjs",90,104,"Return an error payload instead of throwing so batch proof runs can continue." 
E,E-7,"Law definition typos crash emitLaw at runtime",S3,C1,"dx","packages/tf-l0-proofs/src/smt-laws.mjs",246,273,"Validate law schema on module load and surface actionable messages." 
E,E-8,"Law list ordering depends on object key casing",S4,C2,"determinism","packages/tf-l0-proofs/src/smt-laws.mjs",17,60,"Store laws in an explicit array and sort deterministically." 
E,E-9,"emitLaw lacks model dump for debugging",S4,C1,"dx","packages/tf-l0-proofs/src/smt-laws.mjs",62,75,"Add optional `(get-model)` output when a law is satisfiable to aid debugging." 
E,E-10,"No automated regression tests for SMT laws",S4,C1,"testing","packages/tf-l0-proofs/src/smt-laws.mjs",1,200,"Add a smoke test that runs each emitted script through the solver." 
F,F-1,"pack-all manifest includes real-time timestamp",S3,C2,"determinism","tools/release/pack-all.mjs",200,214,"Omit or parameterise `generated_at` to stabilise outputs." 
F,F-2,"docs build embeds new timestamp each run",S3,C2,"determinism","scripts/docs/build.mjs",24,35,"Use a provided timestamp or reuse the release manifest time." 
F,F-3,"pack-all package list order depends on allowlist discovery",S3,C1,"determinism","tools/release/pack-all.mjs",126,198,"Sort package entries by manifest path before serialising." 
F,F-4,"lockfile-guard --json flag has no effect",S4,C2,"dx","tools/ci/lockfile-guard.mjs",20,24,"Emit human-readable output when --json is false and raw JSON otherwise." 
F,F-5,"pack-all trusts manifest.private before packing",S3,C1,"reliability","tools/release/pack-all.mjs",150,196,"Check the on-disk manifest after packing to ensure `private` is still false." 
F,F-6,"pack-all runs arbitrary prepack scripts",S3,C2,"reliability","tools/release/pack-all.mjs",162,176,"Pass `--ignore-scripts` to pnpm pack and run required build steps earlier." 
F,F-7,"Release workflow only exercises ubuntu-node20",S3,C1,"reliability",".github/workflows/release.yml",10,32,"Expand the job matrix to additional OS/Node combinations for parity." 
F,F-8,"setup-pnpm composite always reinstalls dependencies",S4,C2,"perf",".github/actions/setup-pnpm/action.yml",31,54,"Allow callers to skip the install step entirely when deps are already present." 
F,F-9,"CLI scaffolding duplicated across scripts",S4,C1,"dx","scripts/docs/build.mjs",1,40,"Factor shared flag/emit helpers into a reusable module." 
F,F-10,"pack-all only hashes manifest, not tarballs",S3,C2,"security","tools/release/pack-all.mjs",205,214,"Compute per-artifact hashes and include them in the status payload." 
